
<!-- @if (watchlist.length > 0) {
 <div class="container py-5 d-flex justify-content-center"> 
     @for (movie of watchlist; track movie.id){
    <div class="card card-custom p-3 d-flex flex-row align-items-start gap-3" style="max-width: 540px;">
      <img [src]="imageBaseUrl + movie.poster_path" alt={{movie.title}} class="card-img-custom"/>
      
      <div class="flex-grow-1 d-flex flex-column gap-2">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="mb-0 fw-bold">{{ movie.title }}</h5> -->
          <!-- Start with filled heart -->
          <!-- <i class="bi bi-heart-fill heart-icon" id="heartIcon" title="Remove from favorites"></i>
        </div>
        <small class="date-text">{{ movie.release_date | date }}</small>
        <div class="d-flex align-items-center gap-1">
          <span class="star-icon filled">★</span>
          <span class="star-icon filled">★</span>
          <span class="star-icon filled">★</span>
          <span class="star-icon">★</span>
          <span class="star-icon">★</span>
          <span class="rating-number">{{ movie.overview }}</span>
        </div>
        <p class="card-body-text mb-0">{{ movie.overview }}</p>
      </div>
    </div>
  }
  </div>  -->
<!-- }@else { -->
    <!-- No movies -->
    <!-- <div class="text-center my-5">
      <i class="bi bi-heartbreak display-1 text-secondary"></i>
      <h5 class="mt-3 text-muted">No Movies in watch list</h5>
      <a routerLink="/" class="btn btn-warning mt-3">Back to home</a>
    </div>
  }  -->

  <!-- <script>
    const heartIcon = document.getElementById("heartIcon");
    heartIcon.addEventListener("click", () => {
      const isFilled = heartIcon.classList.contains("bi-heart-fill");
      heartIcon.className = isFilled 
        ? "bi bi-heart heart-icon" 
        : "bi bi-heart-fill heart-icon";
      heartIcon.title = isFilled 
        ? "Add to favorites" 
        : "Remove from favorites";
    });
  </script> -->


  @if (watchlist.length > 0) {
  <div class="container py-5">
    <h4 class="mb-4 fw-bold">Watch list</h4>

    <div class="row row-cols-1 row-cols-md-2 g-4">
      @for (movie of watchlist; track movie.id) {
        <div class="col">
          <div class="card p-3 d-flex flex-row align-items-start gap-3 shadow-sm h-100">

            <!-- Poster -->
            <img [src]="imageBaseUrl + movie.poster_path"
                 alt="{{movie.title}}"
                 class="rounded"
                 style="width: 120px; height: 180px; object-fit: cover;" />

            <!-- Card Body -->
            <div class="flex-grow-1 d-flex flex-column">
              <div class="d-flex justify-content-between align-items-start">
                <div>
                  <h5 class="fw-bold mb-1">{{ movie.title }}</h5>
                  <small class="text-muted">{{ movie.release_date | date }}</small>
                </div>

                <!-- Heart button -->
                <button class="btn btn-link p-0" (click)="removeMovie(movie.id)">
                  <i class="bi bi-heart-fill text-warning fs-5"></i>
                </button>
              </div>

              <!-- Rating stars -->
              <div class="d-flex align-items-center my-2">
                <span class="text-warning">★</span>
                <span class="text-warning">★</span>
                <span class="text-warning">★</span>
                <span class="text-secondary">★</span>
                <span class="text-secondary">★</span>
                <span class="ms-2 small text-muted">({{ movie.vote_count }})</span>
              </div>

              <!-- Overview -->
             <p class="text-muted small mb-0 text-clamp-3">
  {{ movie.overview }}
</p>

            </div>
          </div>
        </div>
      }
    </div>
  </div>
} @else {
  <!-- No movies -->
  <div class="text-center my-5">
    <i class="bi bi-heartbreak display-1 text-secondary"></i>
    <h5 class="mt-3 text-muted">No Movies in watch list</h5>
    <a routerLink="/" class="btn btn-warning mt-3">Back to home</a>
  </div>
}




