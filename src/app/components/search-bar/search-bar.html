<div class="container my-4">
  <div class="p-5 bg-light">
    <!-- Title -->
    <h3 class="fw-bold">Search Movies & TV Shows</h3>
    <p class="text-muted">
      Millions of movies, TV shows and people to discover. Explore now.
    </p>
    <!-- Search form -->
    <form class="d-flex mt-4">
      <input class="form-control form-control-lg me-2" 
             [(ngModel)]="query" 
             (ngModelChange)="onQueryChange()"
             type="search" 
             placeholder="Search and explore...."
             aria-label="Search" 
             name="search"
             [disabled]="isLoading"/>
      <button class="btn btn-lg"  type="submit"style="background-color: #ffe347; color: black; font-weight: 500;"
              [routerLink]="['/search', query]" [disabled]="!query || query.trim().length === 0 || isLoading">
        Search
      </button>
    </form>

    <div class="mt-3"> 
      <small class="text-muted me-3">Popular searches:</small>
      <a [routerLink]="['/search', 'Marvel']" class="badge bg-secondary text-decoration-none me-2">Marvel</a>
      <a [routerLink]="['/search', 'Horror']" class="badge bg-secondary text-decoration-none me-2">Horror</a>
      <a [routerLink]="['/search', 'Comedy']" class="badge bg-secondary text-decoration-none me-2">Comedy</a>
      <a [routerLink]="['/search', 'Action']" class="badge bg-secondary text-decoration-none me-2">Action</a>
    </div> 
  </div>
</div>

<div class="container mt-4">
  <!-- Results Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    @if (query && hasSearched) {
      <h4>
        Search results for "
        <span class="text-warning">{{ query }}</span>"
        @if (!isLoading && movies.length > 0) {
          <small class="text-muted ms-2">({{ movies.length }} results)</small>
        }
      </h4>
    } @else {
      <h4>Now Playing</h4>
    }
    
    @if (hasSearched) {
      <a class="btn btn-sm btn-outline-secondary" routerLink="/movielist">
        <i class="bi bi-arrow-left me-1"></i>
        Back to Home
      </a>
    }
  </div>

  @if (!isLoading) {
    <div class="row row-cols-2 row-cols-md-4 row-cols-lg-6 g-4 mt-3">
      @for (movie of movies; track movie.id) {
        <div class="col">
          <app-movie-card [movie]="movie"></app-movie-card>
        </div>
      }
    </div>
  }
</div>